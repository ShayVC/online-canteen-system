{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shaym\\\\Downloads\\\\newonlinecanteen\\\\newonlinecanteen\\\\frontend\\\\src\\\\contexts\\\\ShopContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { getAllShops, createShop, updateShop, deleteShop } from '../utils/shopService';\n\n// Mock data to use when the API is unavailable\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MOCK_SHOPS = [{\n  shop_id: 1,\n  shop_name: 'Coffee Corner',\n  contact_info: 123456789\n}, {\n  shop_id: 2,\n  shop_name: 'Burger Palace',\n  contact_info: 987654321\n}, {\n  shop_id: 3,\n  shop_name: 'Salad Bar',\n  contact_info: 456789123\n}, {\n  shop_id: 4,\n  shop_name: 'Pizza Heaven',\n  contact_info: 789123456\n}, {\n  shop_id: 5,\n  shop_name: 'Sushi Express',\n  contact_info: 321654987\n}];\nconst ShopContext = /*#__PURE__*/createContext();\nexport const useShops = () => {\n  _s();\n  return useContext(ShopContext);\n};\n_s(useShops, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const ShopProvider = ({\n  children\n}) => {\n  _s2();\n  const [shops, setShops] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchShops = async () => {\n    try {\n      setLoading(true);\n      const data = await getAllShops();\n      setShops(data);\n      setError(null);\n    } catch (err) {\n      console.error('Error fetching shops from API:', err);\n      // Use mock data instead of showing an error\n      setShops(MOCK_SHOPS);\n      setError(null);\n      console.log('Using mock shop data since the API is unavailable');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchShops();\n  }, []);\n\n  // Add a shop to the database and update state\n  const addShop = async shopData => {\n    try {\n      setLoading(true);\n      const newShop = await createShop(shopData);\n      setShops(prevShops => [...prevShops, newShop]);\n      return newShop;\n    } catch (err) {\n      console.error('Error adding shop:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update a shop in the database and update state\n  const editShop = async (id, shopData) => {\n    try {\n      setLoading(true);\n      const updatedShop = await updateShop(id, shopData);\n      setShops(prevShops => prevShops.map(shop => shop.shop_id === parseInt(id) ? updatedShop : shop));\n      return updatedShop;\n    } catch (err) {\n      console.error('Error updating shop:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete a shop from the database and update state\n  const removeShop = async id => {\n    try {\n      setLoading(true);\n      await deleteShop(id);\n      setShops(prevShops => prevShops.filter(shop => shop.shop_id !== parseInt(id)));\n      return true;\n    } catch (err) {\n      console.error('Error deleting shop:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const value = {\n    shops,\n    loading,\n    error,\n    refreshShops: fetchShops,\n    addShop,\n    editShop,\n    removeShop\n  };\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s2(ShopProvider, \"bayallKgtGwxgCviA/8Sd3q0VMQ=\");\n_c = ShopProvider;\nexport default ShopContext;\nvar _c;\n$RefreshReg$(_c, \"ShopProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","getAllShops","createShop","updateShop","deleteShop","jsxDEV","_jsxDEV","MOCK_SHOPS","shop_id","shop_name","contact_info","ShopContext","useShops","_s","ShopProvider","children","_s2","shops","setShops","loading","setLoading","error","setError","fetchShops","data","err","console","log","addShop","shopData","newShop","prevShops","editShop","id","updatedShop","map","shop","parseInt","removeShop","filter","value","refreshShops","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/shaym/Downloads/newonlinecanteen/newonlinecanteen/frontend/src/contexts/ShopContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { getAllShops, createShop, updateShop, deleteShop } from '../utils/shopService';\n\n// Mock data to use when the API is unavailable\nconst MOCK_SHOPS = [\n  { shop_id: 1, shop_name: 'Coffee Corner', contact_info: 123456789 },\n  { shop_id: 2, shop_name: 'Burger Palace', contact_info: 987654321 },\n  { shop_id: 3, shop_name: 'Salad Bar', contact_info: 456789123 },\n  { shop_id: 4, shop_name: 'Pizza Heaven', contact_info: 789123456 },\n  { shop_id: 5, shop_name: 'Sushi Express', contact_info: 321654987 }\n];\n\nconst ShopContext = createContext();\n\nexport const useShops = () => useContext(ShopContext);\n\nexport const ShopProvider = ({ children }) => {\n  const [shops, setShops] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchShops = async () => {\n    try {\n      setLoading(true);\n      const data = await getAllShops();\n      setShops(data);\n      setError(null);\n    } catch (err) {\n      console.error('Error fetching shops from API:', err);\n      // Use mock data instead of showing an error\n      setShops(MOCK_SHOPS);\n      setError(null);\n      console.log('Using mock shop data since the API is unavailable');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchShops();\n  }, []);\n\n  // Add a shop to the database and update state\n  const addShop = async (shopData) => {\n    try {\n      setLoading(true);\n      const newShop = await createShop(shopData);\n      setShops(prevShops => [...prevShops, newShop]);\n      return newShop;\n    } catch (err) {\n      console.error('Error adding shop:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update a shop in the database and update state\n  const editShop = async (id, shopData) => {\n    try {\n      setLoading(true);\n      const updatedShop = await updateShop(id, shopData);\n      setShops(prevShops => \n        prevShops.map(shop => \n          shop.shop_id === parseInt(id) ? updatedShop : shop\n        )\n      );\n      return updatedShop;\n    } catch (err) {\n      console.error('Error updating shop:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete a shop from the database and update state\n  const removeShop = async (id) => {\n    try {\n      setLoading(true);\n      await deleteShop(id);\n      setShops(prevShops => prevShops.filter(shop => shop.shop_id !== parseInt(id)));\n      return true;\n    } catch (err) {\n      console.error('Error deleting shop:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const value = {\n    shops,\n    loading,\n    error,\n    refreshShops: fetchShops,\n    addShop,\n    editShop,\n    removeShop\n  };\n\n  return (\n    <ShopContext.Provider value={value}>\n      {children}\n    </ShopContext.Provider>\n  );\n};\n\nexport default ShopContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}